{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\QQMerged\\\\ClientApp\\\\src\\\\components\\\\MyQueues.jsx\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Modal, ModalHeader, ModalFooter } from 'reactstrap';\nimport Cookies from 'js-cookie';\nimport { Virtuoso } from 'react-virtuoso';\nimport CustomScrollbar from \"./CustomScroller\";\nimport \"overlayscrollbars/css/OverlayScrollbars.css\";\nimport './MyQueues.scss';\nimport { Redirect } from \"react-router-dom\";\nimport { AppContext } from './AppContext.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class MyQueues extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      showContentJoined: true,\n      redirect: false,\n      joinedlist: [],\n      createdlist: [],\n      idToDelete: -1,\n      showNfmsg: false\n    };\n    this.deleteAsk = this.deleteAsk.bind(this);\n    this.deleteUnAsk = this.deleteUnAsk.bind(this);\n    this.deleteQueue = this.deleteQueue.bind(this);\n  }\n\n  componentDidMount() {\n    this.qupdate();\n  }\n\n  async qupdate() {\n    if (this.context[\"auth\"]) {\n      const token = \"Bearer \" + Cookies.get('JWT');\n      const qrequestOptions = {\n        method: 'GET',\n        headers: {\n          'Authorization': token\n        }\n      };\n      const joinedlistresponse = await fetch(`get_not_my_event`, qrequestOptions);\n      const joinedlist = await joinedlistresponse.json();\n      const createdlistresponse = await fetch(`get_my_event`, qrequestOptions);\n      const createdlist = await createdlistresponse.json();\n      this.setState({\n        createdlist: createdlist,\n        joinedlist: joinedlist,\n        loading: false\n      });\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  joined() {\n    this.setState({\n      showContentJoined: true\n    });\n  }\n\n  created() {\n    this.setState({\n      showContentJoined: false\n    });\n  }\n\n  openQueue(id) {\n    this.props.history.push(`queue/${id}`);\n  }\n\n  deleteAsk(id) {\n    this.setState({\n      showNfmsg: !this.state.showNfmsg,\n      idToDelete: id\n    });\n  }\n\n  deleteUnAsk() {\n    this.setState({\n      showNfmsg: !this.state.showNfmsg,\n      idToDelete: -1\n    });\n  }\n\n  async deleteQueue() {\n    const token = \"Bearer \" + Cookies.get('JWT');\n    const requestOptions = {\n      method: 'PUT',\n      headers: {\n        'Authorization': token\n      }\n    };\n    const response = await fetch(`/queue/${this.state.idToDelete}/moder/finish`, requestOptions);\n    this.setState({\n      showNfmsg: !this.state.showNfmsg,\n      idToDelete: -1\n    });\n\n    if (response.ok) {\n      this.qupdate();\n    }\n  }\n\n  render() {\n    let joinedlist = this.state.joinedlist;\n    let createdlist = this.state.createdlist;\n    let showJoined = this.state.showContentJoined;\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: `/login`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this);\n    }\n\n    const renderList = () => {\n      if (this.state.showContentJoined) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list\",\n          children: /*#__PURE__*/_jsxDEV(Virtuoso, {\n            components: {\n              Scroller: CustomScrollbar\n            },\n            className: \"EventList\",\n            data: joinedlist,\n            itemContent: (index, Queue) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"EventItem\",\n              onClick: this.openQueue.bind(this, Queue.eventId),\n              children: Queue.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list\",\n          children: /*#__PURE__*/_jsxDEV(Virtuoso, {\n            components: {\n              Scroller: CustomScrollbar\n            },\n            className: \"EventList\",\n            data: createdlist,\n            itemContent: (index, Queue) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"EventItem\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: \"10\",\n                onClick: this.openQueue.bind(this, Queue.eventId),\n                children: Queue.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: \"2\",\n                style: {\n                  display: \"flex\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"trash_btn_box\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/trash-icon 1.svg\",\n                    alt: \"\",\n                    onClick: this.deleteAsk.bind(this, Queue.eventId)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this);\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list_mainblock\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col padding-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"switch_btn\",\n              style: {\n                marginTop: showJoined ? \"1px\" : \"5%\"\n              },\n              onClick: () => this.joined(),\n              children: \"Joined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col padding-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"switch_btn\",\n              style: {\n                marginTop: !showJoined ? \"1px\" : \"5%\"\n              },\n              onClick: () => this.created(),\n              children: \"Created\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), renderList()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.showNfmsg,\n        toggle: this.deleteAsk,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: \"Are you sure you want to delete queue?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"not_ok_button\",\n            onClick: this.deleteUnAsk,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ok_button\",\n            onClick: this.deleteQueue,\n            children: \"DELETE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nMyQueues.displayName = MyQueues.name;\nMyQueues.contextType = AppContext;","map":{"version":3,"sources":["D:/project/QQMerged/ClientApp/src/components/MyQueues.jsx"],"names":["React","Component","Container","Row","Col","Modal","ModalHeader","ModalFooter","Cookies","Virtuoso","CustomScrollbar","Redirect","AppContext","MyQueues","constructor","props","state","loading","showContentJoined","redirect","joinedlist","createdlist","idToDelete","showNfmsg","deleteAsk","bind","deleteUnAsk","deleteQueue","componentDidMount","qupdate","context","token","get","qrequestOptions","method","headers","joinedlistresponse","fetch","json","createdlistresponse","setState","joined","created","openQueue","id","history","push","requestOptions","response","ok","render","showJoined","renderList","Scroller","index","Queue","eventId","title","display","marginTop","displayName","name","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Row, Col, Modal, ModalHeader, ModalFooter} from 'reactstrap';\r\nimport Cookies from 'js-cookie'\r\nimport { Virtuoso } from 'react-virtuoso';\r\nimport CustomScrollbar from \"./CustomScroller\";\r\nimport \"overlayscrollbars/css/OverlayScrollbars.css\";\r\nimport './MyQueues.scss';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppContext} from './AppContext.jsx';\r\n\r\n\r\nexport class MyQueues extends Component {\r\n    static displayName = MyQueues.name;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {loading: true, showContentJoined: true, redirect: false, joinedlist:[], createdlist:[], idToDelete:-1, showNfmsg: false};\r\n\r\n        this.deleteAsk = this.deleteAsk.bind(this);\r\n        this.deleteUnAsk = this.deleteUnAsk.bind(this);\r\n        this.deleteQueue = this.deleteQueue.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.qupdate();\r\n    }\r\n\r\n    async qupdate() {\r\n        if (this.context[\"auth\"]) {\r\n            const token = \"Bearer \" + Cookies.get('JWT');\r\n\r\n            const qrequestOptions = {\r\n                method: 'GET',\r\n                headers: { 'Authorization': token }\r\n            };\r\n\r\n            const joinedlistresponse = await fetch(`get_not_my_event`, qrequestOptions);\r\n            const joinedlist = await joinedlistresponse.json();\r\n\r\n            const createdlistresponse = await fetch(`get_my_event`, qrequestOptions);\r\n            const createdlist = await createdlistresponse.json();\r\n\r\n            this.setState({createdlist: createdlist, joinedlist: joinedlist, loading: false });\r\n        }\r\n        else {\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n    joined() {\r\n        this.setState({showContentJoined: true })\r\n    }\r\n\r\n    created() {\r\n        this.setState({showContentJoined: false })\r\n    }\r\n\r\n    openQueue(id) {\r\n        this.props.history.push(`queue/${id}`);\r\n    }\r\n\r\n    deleteAsk(id) {\r\n        this.setState({ showNfmsg: !this.state.showNfmsg, idToDelete:id});\r\n    }\r\n\r\n    deleteUnAsk() {\r\n        this.setState({ showNfmsg: !this.state.showNfmsg, idToDelete:-1});\r\n    }\r\n\r\n    async deleteQueue() {\r\n        const token = \"Bearer \" + Cookies.get('JWT');\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Authorization': token }\r\n        };\r\n\r\n        const response = await fetch(`/queue/${this.state.idToDelete}/moder/finish`, requestOptions);\r\n\r\n        this.setState({ showNfmsg: !this.state.showNfmsg, idToDelete:-1});\r\n\r\n        if (response.ok) {\r\n            this.qupdate();\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        let joinedlist = this.state.joinedlist;\r\n        let createdlist = this.state.createdlist;\r\n        let showJoined = this.state.showContentJoined;\r\n\r\n        if (this.state.redirect) {\r\n            return (<Redirect push to={`/login`} />);\r\n        }\r\n\r\n        const renderList = () => {\r\n            if (this.state.showContentJoined) {\r\n                return (<div className=\"list\">\r\n                    <Virtuoso\r\n                        components={{ Scroller: CustomScrollbar }}\r\n                        className=\"EventList\"\r\n                        data={joinedlist}\r\n                        itemContent={(index, Queue) => <div className=\"EventItem\" onClick={this.openQueue.bind(this, Queue.eventId)}>{Queue.title}</div>}\r\n                    />\r\n                </div>)\r\n            }\r\n            else {\r\n                return (<div className=\"list\">\r\n                    <Virtuoso\r\n                        components={{ Scroller: CustomScrollbar }}\r\n                        className=\"EventList\"\r\n                        data={createdlist}\r\n                        itemContent={(index, Queue) =>\r\n                            <div className=\"EventItem\">\r\n                                <Col xs=\"10\" onClick={this.openQueue.bind(this, Queue.eventId)}>\r\n                                    {Queue.title}\r\n                                </Col>\r\n                                <Col xs=\"2\" style={{display: \"flex\"}}>\r\n                                    <div className=\"trash_btn_box\">\r\n                                        <img src=\"/trash-icon 1.svg\" alt=\"\" onClick={this.deleteAsk.bind(this, Queue.eventId)} />\r\n                                    </div>\r\n                                </Col>\r\n                            </div>}\r\n                    />\r\n                </div>)\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Container fluid>\r\n                <div className=\"list_mainblock\">\r\n                    <Row>\r\n                        <div className=\"col padding-0\" >\r\n                            <div className=\"switch_btn\" style={{marginTop: showJoined? \"1px\":\"5%\"}} onClick={() => this.joined()}>Joined</div>\r\n                        </div>\r\n                        <div className=\"col padding-0\">\r\n                            <div className=\"switch_btn\" style={{marginTop: !showJoined? \"1px\":\"5%\"}}onClick={() => this.created()}>Created</div>\r\n                        </div>\r\n                        {renderList()}\r\n                    </Row>\r\n                </div>\r\n\r\n                <Modal isOpen={this.state.showNfmsg} toggle={this.deleteAsk}>\r\n                    <ModalHeader>\r\n                        Are you sure you want to delete queue?\r\n                    </ModalHeader>\r\n                    <ModalFooter>\r\n                        <div className=\"not_ok_button\" onClick={this.deleteUnAsk}>Cancel</div>\r\n                        <div className=\"ok_button\" onClick={this.deleteQueue}>DELETE</div>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nMyQueues.contextType = AppContext;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
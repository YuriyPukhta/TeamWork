{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\QQMerged\\\\ClientApp\\\\src\\\\components\\\\GeneralQueue.jsx\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Spinner } from 'reactstrap';\nimport Cookies from 'js-cookie';\nimport { Virtuoso } from 'react-virtuoso';\nimport CustomScrollbar from \"./CustomScroller\";\nimport \"overlayscrollbars/css/OverlayScrollbars.css\";\nimport './GeneralQueue.scss';\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport { AppContext } from './AppContext.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class GeneralQueue extends Component {\n  constructor(props) {\n    super(props);\n    this.intervalID = 0;\n    this.state = {\n      qname: \"\",\n      queue: [],\n      qonline: true,\n      loading: true,\n      id: this.props.match.params.id,\n      isOdmen: false,\n      redirect: false,\n      clicker: 0,\n      clickercolor: Math.floor(Math.random() * 270) + 60,\n      isInQueue: false,\n      placeInQueue: 0,\n      userId: sessionStorage.getItem('id'),\n      hubConnection: null\n    };\n    this.handleNext = this.handleNext.bind(this);\n    this.click = this.click.bind(this);\n    this.handleFreeze = this.handleFreeze.bind(this);\n    this.handleJoin = this.handleJoin.bind(this);\n    this.getQ = this.getQ.bind(this);\n    this.click = this.click.bind(this);\n  }\n\n  componentDidMount() {\n    this.getQ();\n    this.qupdate();\n    this.intervalID = setInterval(() => {\n      this.qupdate();\n    }, 3000);\n    const hubConnection = new HubConnection('http://localhost:5000/queue');\n    this.setState({\n      hubConnection\n    }, () => {\n      this.state.hubConnection.start().then(() => console.log('Connection started!')).catch(err => console.log('Error while establishing connection :('));\n      this.state.hubConnection.invoke('NewConnectionToqueue', this.state.id.toString()).catch(err => console.error(err));\n    });\n    this.state.hubConnectio.on('MASSAGE', getword => {\n      console.error(getword);\n    });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalID);\n  }\n\n  async getQ() {\n    if (Cookies.get('JWT') != null) {\n      const token = \"Bearer \" + Cookies.get('JWT');\n      const qrequestOptions = {\n        method: 'GET',\n        headers: {\n          'Authorization': token\n        }\n      };\n      const qownresp = await fetch(`IOwner/${this.state.id}`, qrequestOptions);\n\n      if (qownresp.ok) {\n        const qown = await qownresp.json();\n        this.setState({\n          isOdmen: qown\n        });\n      }\n\n      const qresponse = await fetch(`event/${this.state.id}`, qrequestOptions);\n\n      if (qresponse.ok) {\n        const qdata = await qresponse.json();\n        this.setState({\n          qname: qdata[\"title\"],\n          qonline: !qdata[\"isSuspended\"],\n          loading: false\n        });\n      }\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  async handleNext() {\n    if (this.state.isOdmen) {\n      const token = \"Bearer \" + Cookies.get('JWT');\n      const requestOptions = {\n        method: 'PUT',\n        headers: {\n          'Authorization': token\n        }\n      };\n      const response = await fetch(`/queue/${this.state.id}/moder/next`, requestOptions);\n\n      if (response.ok) {\n        this.qupdate();\n      }\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  async handleFreeze() {\n    if (this.state.isOdmen) {\n      const token = \"Bearer \" + Cookies.get('JWT');\n      const requestOptions = {\n        method: 'PUT',\n        headers: {\n          'Authorization': token\n        }\n      };\n\n      if (this.state.qonline) {\n        const response = await fetch(`/queue/${this.state.id}/moder/close`, requestOptions);\n\n        if (response.ok) {\n          this.qupdate();\n        }\n      } else {\n        const response = await fetch(`/queue/${this.state.id}/moder/open`, requestOptions);\n\n        if (response.ok) {\n          this.qupdate();\n        }\n      }\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  async qupdate() {\n    if (Cookies.get('JWT') != null) {\n      const token = \"Bearer \" + Cookies.get('JWT');\n      const qrequestOptions = {\n        method: 'GET',\n        headers: {\n          'Authorization': token\n        }\n      };\n      const qownresp = await fetch(`IOwner/${this.state.id}`, qrequestOptions);\n\n      if (qownresp.ok) {\n        const qown = await qownresp.json();\n        this.setState({\n          isOdmen: qown\n        });\n      }\n\n      const qresponse = await fetch(`event/${this.state.id}`, qrequestOptions);\n\n      if (qresponse.ok) {\n        const qdata = await qresponse.json();\n        this.setState({\n          qname: qdata[\"title\"],\n          qonline: !qdata[\"isSuspended\"]\n        });\n      }\n\n      const qlistresponse = await fetch(`get_queue/${this.state.id}`, qrequestOptions);\n\n      if (qlistresponse.ok) {\n        const qlist = await qlistresponse.json();\n        this.setState({\n          placeInQueue: 0\n        });\n\n        for (var i = 0; i < qlist.length; i++) {\n          if (qlist[i].idUser == this.state.userId) {\n            this.setState({\n              isInQueue: true,\n              placeInQueue: i + 1\n            });\n          }\n\n          ;\n        }\n        /*qlist.push({eventId: -1, id: -1, idUser: -1, number: -1, status: \"\", time_queue: \"\", username: \"\"});*/\n\n\n        this.setState({\n          queue: qlist\n        });\n      }\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  click() {\n    let color = this.state.clickercolor;\n\n    if (color >= 360) {\n      color = 0;\n    }\n\n    this.setState({\n      clicker: this.state.clicker + 1,\n      clickercolor: color + 1\n    });\n  }\n\n  async handleJoin() {\n    if (!this.state.isOdmen) {\n      const token = \"Bearer \" + Cookies.get('JWT');\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Authorization': token\n        }\n      };\n\n      if (!this.state.isInQueue) {\n        const response = await fetch(`/queue/enter/${this.state.id}`, requestOptions);\n\n        if (response.ok) {\n          this.setState({\n            isInQueue: true\n          });\n          this.qupdate();\n        }\n      } else {\n        requestOptions[\"method\"] = 'DELETE';\n        const response = await fetch(`/queue/delete/${this.state.id}`, requestOptions);\n\n        if (response.ok) {\n          this.setState({\n            isInQueue: false\n          });\n          this.qupdate();\n        }\n      }\n    } else {\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  render() {\n    let queue = this.state.queue;\n    let qname = this.state.qname;\n    let qsize = this.state.queue.length;\n    let qid = this.state.id;\n    let clicker = this.state.clicker;\n    let isOdmen = this.state.isOdmen;\n    let qstate = this.state.qonline;\n    let place = this.state.placeInQueue;\n    let inQ = this.state.isInQueue;\n    let color = this.state.clickercolor;\n\n    const Button1 = () => {\n      if (isOdmen) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"next_button\",\n          onClick: this.handleNext,\n          children: \"NEXT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 24\n        }, this);\n      } else {\n        if (inQ) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: \"#E87C64\"\n            },\n            className: \"join_button\",\n            onClick: this.handleJoin,\n            children: \"LEAVE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 28\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"join_button\",\n            onClick: this.handleJoin,\n            children: \"JOIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 28\n          }, this);\n        }\n      }\n    };\n\n    const Button2 = () => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ppl_inqueue\",\n        children: qsize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 20\n      }, this);\n    };\n\n    const Button3 = () => {\n      if (isOdmen) {\n        if (qstate) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"freeze_button\",\n            onClick: this.handleFreeze,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/freeze.svg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 87\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 28\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: \"#CCCCCC\"\n            },\n            className: \"freeze_button\",\n            onClick: this.handleFreeze,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/freeze.svg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 124\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 28\n          }, this);\n        }\n      } else {\n        if (inQ) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"your_place\",\n            children: [\"You\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 59\n            }, this), place]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 28\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"your_place\",\n            children: \"You\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 28\n          }, this);\n        }\n      }\n    };\n\n    const clickerColor = () => {\n      const colorStr = \"hsl(\" + color + \", 90%, 65%)\";\n\n      if (clicker <= 0) {\n        return {\n          backgroundColor: colorStr,\n          fontSize: '3vw'\n        };\n      } else {\n        return {\n          backgroundColor: colorStr\n        };\n      }\n    };\n\n    const Button4 = () => {\n      if (clicker > 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clicker\",\n          style: clickerColor(),\n          onClick: this.click,\n          children: clicker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clicker\",\n          style: clickerColor(),\n          onClick: this.click,\n          children: \"Click!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 24\n        }, this);\n      }\n    };\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: `/`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }, this);\n    }\n\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinnerDiv\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this);\n    }\n\n    const listElement = index => {\n      if (index == 0) {\n        return {\n          backgroundColor: \"#82FF9D\"\n        };\n      } else if (index == place - 1) {\n        return {\n          backgroundColor: \"#EDB734\"\n        };\n      }\n      /*else if (index == qsize - 1) {\r\n          return { visibility: \"hidden\" };\r\n      }*/\n      else {\n        return {\n          backgroundColor: \"white\"\n        };\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main_block\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"queue_name\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: \"9\",\n                className: \"queue_name_col\",\n                children: qname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: \"3\",\n                className: \"col3_custom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"copy_link_button\",\n                  onClick: () => {\n                    navigator.clipboard.writeText(`${this.state.id}`);\n                  },\n                  \"data-toggle\": \"tooltip\",\n                  \"data-placement\": \"top\",\n                  title: \"Copy queue link\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/link.svg\",\n                    alt: \"\",\n                    height: \"100%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    backgroundColor: qstate ? \"#82FF9D\" : \"#CCCCCC\"\n                  },\n                  className: \"queue_state\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"queue_block\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: \"8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"queue\",\n              children: /*#__PURE__*/_jsxDEV(Virtuoso, {\n                components: {\n                  Scroller: CustomScrollbar\n                },\n                className: \"QList\",\n                data: queue,\n                itemContent: (index, Queue) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"QItem\",\n                  style: listElement(index),\n                  children: Queue.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 68\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: \"4\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              className: \"buttons\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                className: \"button\",\n                children: Button1()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                className: \"button\",\n                children: Button2()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                className: \"button\",\n                children: Button3()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"6\",\n                className: \"button\",\n                children: Button4()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nGeneralQueue.displayName = GeneralQueue.name;\nGeneralQueue.contextType = AppContext;\nexport default _c = withRouter(GeneralQueue);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","Container","Row","Col","Spinner","Cookies","Virtuoso","CustomScrollbar","Redirect","withRouter","AppContext","GeneralQueue","constructor","props","intervalID","state","qname","queue","qonline","loading","id","match","params","isOdmen","redirect","clicker","clickercolor","Math","floor","random","isInQueue","placeInQueue","userId","sessionStorage","getItem","hubConnection","handleNext","bind","click","handleFreeze","handleJoin","getQ","componentDidMount","qupdate","setInterval","HubConnection","setState","start","then","console","log","catch","err","invoke","toString","error","hubConnectio","on","getword","componentWillUnmount","clearInterval","get","token","qrequestOptions","method","headers","qownresp","fetch","ok","qown","json","qresponse","qdata","requestOptions","response","qlistresponse","qlist","i","length","idUser","color","render","qsize","qid","qstate","place","inQ","Button1","backgroundColor","Button2","Button3","clickerColor","colorStr","fontSize","Button4","listElement","index","width","navigator","clipboard","writeText","Scroller","Queue","username","displayName","name","contextType"],"sources":["D:/project/QQMerged/ClientApp/src/components/GeneralQueue.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Row, Col, Spinner} from 'reactstrap';\r\nimport Cookies from 'js-cookie'\r\nimport { Virtuoso } from 'react-virtuoso';\r\nimport CustomScrollbar from \"./CustomScroller\";\r\nimport \"overlayscrollbars/css/OverlayScrollbars.css\";\r\nimport './GeneralQueue.scss';\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {AppContext} from './AppContext.jsx';\r\n\r\nexport class GeneralQueue extends Component {\r\n    static displayName = GeneralQueue.name;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.intervalID = 0;\r\n        this.state = { qname: \"\", queue: [], qonline: true, loading: true, id: this.props.match.params.id, isOdmen: false, redirect: false, clicker: 0,  clickercolor: Math.floor(Math.random() * 270) + 60,\r\n            isInQueue: false, placeInQueue: 0, userId: sessionStorage.getItem('id'), hubConnection: null};\r\n\r\n        this.handleNext = this.handleNext.bind(this);\r\n        this.click = this.click.bind(this);\r\n        this.handleFreeze = this.handleFreeze.bind(this);\r\n        this.handleJoin = this.handleJoin.bind(this);\r\n        this.getQ = this.getQ.bind(this);\r\n        this.click = this.click.bind(this);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.getQ();\r\n        this.qupdate();\r\n        this.intervalID = setInterval(() => { this.qupdate(); }, 3000);\r\n\r\n        const hubConnection = new HubConnection('http://localhost:5000/queue');\r\n\r\n        this.setState({ hubConnection }, () => {\r\n            this.state.hubConnection\r\n                .start()\r\n                .then(() => console.log('Connection started!'))\r\n                .catch(err => console.log('Error while establishing connection :('));\r\n\r\n\r\n            this.state.hubConnection.invoke('NewConnectionToqueue', this.state.id.toString())\r\n                .catch(err => console.error(err));\r\n        });\r\n        this.state.hubConnectio.on('MASSAGE', (getword) => {\r\n            console.error(getword);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.intervalID);\r\n    }\r\n\r\n    async getQ() {\r\n        if (Cookies.get('JWT') != null) {\r\n            const token = \"Bearer \" + Cookies.get('JWT');\r\n\r\n            const qrequestOptions = {\r\n                method: 'GET',\r\n                headers: { 'Authorization': token }\r\n            };\r\n\r\n            const qownresp = await fetch(`IOwner/${this.state.id}`, qrequestOptions);\r\n            if (qownresp.ok) {\r\n                const qown = await qownresp.json();\r\n                this.setState({ isOdmen: qown });\r\n            }\r\n\r\n            const qresponse = await fetch(`event/${this.state.id}`, qrequestOptions);\r\n            if (qresponse.ok) {\r\n                const qdata = await qresponse.json();\r\n                this.setState({ qname: qdata[\"title\"], qonline: !qdata[\"isSuspended\"], loading: false });\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n    async handleNext() {\r\n        if (this.state.isOdmen) {\r\n\r\n            const token = \"Bearer \" + Cookies.get('JWT');\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': token }\r\n            };\r\n\r\n            const response = await fetch(`/queue/${this.state.id}/moder/next`, requestOptions);\r\n\r\n            if (response.ok) {\r\n                this.qupdate();\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n\r\n    async handleFreeze() {\r\n        if (this.state.isOdmen) {\r\n            const token = \"Bearer \" + Cookies.get('JWT');\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Authorization': token }\r\n            };\r\n\r\n\r\n            if (this.state.qonline) {\r\n                const response = await fetch(`/queue/${this.state.id}/moder/close`, requestOptions);\r\n                if (response.ok) {\r\n                    this.qupdate();\r\n                }\r\n            } else {\r\n                const response = await fetch(`/queue/${this.state.id}/moder/open`, requestOptions);\r\n                if (response.ok) {\r\n                    this.qupdate();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n\r\n    async qupdate() {\r\n        if (Cookies.get('JWT') != null) {\r\n            const token = \"Bearer \" + Cookies.get('JWT');\r\n\r\n            const qrequestOptions = {\r\n                method: 'GET',\r\n                headers: { 'Authorization': token }\r\n            };\r\n\r\n            const qownresp = await fetch(`IOwner/${this.state.id}`, qrequestOptions);\r\n            if (qownresp.ok) {\r\n                const qown = await qownresp.json();\r\n                this.setState({ isOdmen: qown });\r\n            }\r\n\r\n            const qresponse = await fetch(`event/${this.state.id}`, qrequestOptions);\r\n            if (qresponse.ok) {\r\n                const qdata = await qresponse.json();\r\n                this.setState({ qname: qdata[\"title\"], qonline: !qdata[\"isSuspended\"] });\r\n            }\r\n\r\n            const qlistresponse = await fetch(`get_queue/${this.state.id}`, qrequestOptions);\r\n            if (qlistresponse.ok) {\r\n                const qlist = await qlistresponse.json();\r\n\r\n                this.setState({ placeInQueue: 0 });\r\n\r\n                for (var i = 0; i < qlist.length; i++) {\r\n                    if (qlist[i].idUser == this.state.userId) {\r\n                        this.setState({ isInQueue: true, placeInQueue: i + 1 });\r\n                    };\r\n                }\r\n                /*qlist.push({eventId: -1, id: -1, idUser: -1, number: -1, status: \"\", time_queue: \"\", username: \"\"});*/\r\n                this.setState({ queue: qlist });\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n    click() {\r\n        let color = this.state.clickercolor;\r\n        if (color >= 360) {\r\n            color = 0;\r\n        }\r\n        this.setState({ clicker: this.state.clicker + 1, clickercolor: color + 1 });\r\n    }\r\n\r\n\r\n    async handleJoin() {\r\n        if (!this.state.isOdmen) {\r\n            const token = \"Bearer \" + Cookies.get('JWT');\r\n            const requestOptions = {\r\n                method: 'POST',\r\n                headers: { 'Authorization': token }\r\n            };\r\n\r\n            if (!this.state.isInQueue) {\r\n                const response = await fetch(`/queue/enter/${this.state.id}`, requestOptions);\r\n                if (response.ok) {\r\n                    this.setState({ isInQueue: true });\r\n                    this.qupdate();\r\n                }\r\n            } else {\r\n                requestOptions[\"method\"] = 'DELETE';\r\n                const response = await fetch(`/queue/delete/${this.state.id}`, requestOptions);\r\n                if (response.ok) {\r\n                    this.setState({ isInQueue: false });\r\n                    this.qupdate();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let queue = this.state.queue\r\n        let qname = this.state.qname\r\n        let qsize = this.state.queue.length\r\n        let qid = this.state.id\r\n        let clicker = this.state.clicker\r\n        let isOdmen = this.state.isOdmen;\r\n        let qstate = this.state.qonline;\r\n        let place = this.state.placeInQueue;\r\n        let inQ = this.state.isInQueue;\r\n        let color = this.state.clickercolor;\r\n\r\n        const Button1 = () => {\r\n            if (isOdmen) {\r\n                return <div className=\"next_button\" onClick={this.handleNext}>NEXT</div>;\r\n            } else {\r\n                if (inQ) {\r\n                    return <div style={{backgroundColor: \"#E87C64\"}} className=\"join_button\" onClick={this.handleJoin}>LEAVE</div>;\r\n                } else {\r\n                    return <div className=\"join_button\" onClick={this.handleJoin}>JOIN</div>;\r\n                }\r\n            }\r\n        }\r\n\r\n        const Button2 = () => {\r\n            return <div className=\"ppl_inqueue\">{qsize}</div>;\r\n        }\r\n\r\n        const Button3 = () => {\r\n            if (isOdmen) {\r\n                if (qstate) {\r\n                    return <div className=\"freeze_button\" onClick={this.handleFreeze}><img src=\"/freeze.svg\" alt=\"\"/></div>;\r\n                } else {\r\n                    return <div style={{backgroundColor: \"#CCCCCC\"}} className=\"freeze_button\" onClick={this.handleFreeze}><img src=\"/freeze.svg\" alt=\"\" /></div>;\r\n                }\r\n            } else {\r\n                if (inQ) {\r\n                    return <div className=\"your_place\">You<br/>{place}</div>;\r\n                } else {\r\n                    return <div className=\"your_place\">You</div>;\r\n                }\r\n            }\r\n        }\r\n\r\n        const clickerColor = () => {\r\n            const colorStr = \"hsl(\" + color + \", 90%, 65%)\";\r\n            if (clicker <= 0) {\r\n                return { backgroundColor: colorStr, fontSize: '3vw'};\r\n            } else {\r\n                return { backgroundColor: colorStr };\r\n            }\r\n        }\r\n\r\n        const Button4 = () => {\r\n            if (clicker > 0) {\r\n                return <div className=\"clicker\" style={clickerColor()} onClick={this.click}>{clicker}</div>;\r\n            } else {\r\n                return <div className=\"clicker\" style={clickerColor()} onClick={this.click}>Click!</div>;\r\n            }\r\n        }\r\n\r\n        if (this.state.redirect) {\r\n            return (<Redirect push to={`/`} />);\r\n        }\r\n\r\n        if (this.state.loading) {\r\n            return (<div className=\"spinnerDiv\"><Spinner animation=\"border\" className=\"spinner\" /></div>);\r\n        }\r\n\r\n        const listElement = (index) => {\r\n            if (index == 0) {\r\n                return { backgroundColor: \"#82FF9D\" };\r\n            }\r\n            else if (index == place - 1) {\r\n                return { backgroundColor: \"#EDB734\" };\r\n            }\r\n            /*else if (index == qsize - 1) {\r\n                return { visibility: \"hidden\" };\r\n            }*/\r\n            else {\r\n                return { backgroundColor: \"white\" };\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n            <Container fluid>\r\n                <div className=\"main_block\">\r\n                    <Row>\r\n                        <div className=\"queue_name\">\r\n                            <Row style={{width:\"100%\"}}>\r\n                                <Col xs=\"9\" className=\"queue_name_col\">\r\n                                    {qname}\r\n                                </Col>\r\n                                <Col xs=\"3\" className=\"col3_custom\">\r\n                                    <div className=\"copy_link_button\" onClick={() => {navigator.clipboard.writeText(`${this.state.id}`)}} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Copy queue link\">\r\n                                        <img src=\"/link.svg\" alt=\"\" height=\"100%\" />\r\n                                    </div>\r\n                                    <div style={{ backgroundColor: qstate ? \"#82FF9D\" : \"#CCCCCC\" }} className=\"queue_state\">\r\n                                    </div>\r\n                                    {/*<div className=\"queue_edit_button\" onClick={this.alert} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit queue\">\r\n                                        <img src=\"/edit.svg\" alt=\"\" height=\"100%\" />\r\n                                    </div>*/}\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Row>\r\n\r\n                    <Row className=\"queue_block\">\r\n                        <Col sm=\"8\">\r\n                            <div className=\"queue\">\r\n                                <Virtuoso\r\n                                    components={{Scroller: CustomScrollbar}}\r\n                                    className=\"QList\"\r\n                                    data={queue}\r\n                                    itemContent={(index, Queue) => <div className=\"QItem\" style={listElement(index)}>{Queue.username}</div>}\r\n                                />\r\n                            </div>\r\n                        </Col>\r\n\r\n                        <Col sm=\"4\">\r\n                            <Row className=\"buttons\">\r\n                                <Col sm=\"6\" className=\"button\">\r\n                                    {Button1()}\r\n                                </Col>\r\n                                <Col sm=\"6\" className=\"button\">\r\n                                    {Button2()}\r\n                                </Col>\r\n                                <Col sm=\"6\" className=\"button\">\r\n                                    {Button3()}\r\n                                </Col>\r\n                                <Col sm=\"6\" className=\"button\">\r\n                                    {Button4()}\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nGeneralQueue.contextType = AppContext;\r\nexport default withRouter(GeneralQueue);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
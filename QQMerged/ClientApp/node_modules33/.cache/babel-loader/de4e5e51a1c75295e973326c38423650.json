{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\QQMerged\\\\ClientApp\\\\src\\\\components\\\\Home.jsx\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Input, Modal, ModalFooter } from 'reactstrap';\nimport './Home.scss';\nimport Cookies from 'js-cookie';\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\nimport { AppContext } from './AppContext.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Home extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      idQ: \"\",\n      showNfmsg: false,\n      errmsg: \"Queue not found\",\n      redirect: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.toggleNfmsg = this.toggleNfmsg.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      idQ: event.target.value\n    });\n  }\n\n  async handleSubmit() {\n    if (this.context[\"auth\"]) {\n      if (this.state.idQ == \"\") {} else {\n        const token = \"Bearer \" + Cookies.get('JWT');\n        const requestOptions = {\n          method: 'GET',\n          headers: {\n            'Authorization': token\n          }\n        };\n        const response = await fetch(`event/${this.state.idQ}`, requestOptions);\n\n        if (!response.ok) {\n          this.toggleNfmsg();\n        } else {\n          this.props.history.push(`queue/${this.state.idQ}`);\n        }\n      }\n    } else {\n      console.log(\"unathorized\");\n      this.setState({\n        redirect: true\n      });\n    }\n  }\n\n  toggleNfmsg() {\n    this.setState({\n      showNfmsg: !this.state.showNfmsg\n    });\n  }\n\n  render() {\n    let id = this.state.idQ;\n    let msg = this.state.errmsg;\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        push: true,\n        to: `login`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home_background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input_id_block\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input_background_background\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input_background\",\n                children: /*#__PURE__*/_jsxDEV(Input, {\n                  type: \"text\",\n                  value: this.state.idQ,\n                  onChange: this.handleChange,\n                  placeholder: \"ID...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"\",\n              onClick: this.handleSubmit,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"submit_button\",\n                children: \"Join\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"about_block\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Stop wasting time in queues\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"use smart queue service today\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.showNfmsg,\n        toggle: this.toggleNfmsg,\n        children: /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [msg, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ok_button\",\n            onClick: this.toggleNfmsg,\n            children: \"OK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nHome.displayName = Home.name;\nHome.contextType = AppContext;\nexport default _c = withRouter(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/project/QQMerged/ClientApp/src/components/Home.jsx"],"names":["React","Component","Container","Row","Col","Input","Modal","ModalFooter","Cookies","Link","Redirect","withRouter","AppContext","Home","constructor","props","context","state","idQ","showNfmsg","errmsg","redirect","handleChange","bind","handleSubmit","toggleNfmsg","event","setState","target","value","token","get","requestOptions","method","headers","response","fetch","ok","history","push","console","log","render","id","msg","displayName","name","contextType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,KAA9B,EAAqCC,KAArC,EAA4CC,WAA5C,QAA8D,YAA9D;AACA,OAAO,aAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAAQC,IAAR,EAAcC,QAAd,EAAwBC,UAAxB,QAAyC,kBAAzC;AAEA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,OAAO,MAAMC,IAAN,SAAmBZ,SAAnB,CAA6B;AAGhCa,EAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiB;AACxB,UAAMD,KAAN,EAAaC,OAAb;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,GAAG,EAAE,EAAP;AAAWC,MAAAA,SAAS,EAAE,KAAtB;AAA6BC,MAAAA,MAAM,EAAC,iBAApC;AAAuDC,MAAAA,QAAQ,EAAE;AAAjE,KAAb;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDD,EAAAA,YAAY,CAACI,KAAD,EAAQ;AAChB,SAAKC,QAAL,CAAc;AAAET,MAAAA,GAAG,EAAEQ,KAAK,CAACE,MAAN,CAAaC;AAApB,KAAd;AACH;;AAEiB,QAAZL,YAAY,GAAG;AACjB,QAAI,KAAKR,OAAL,CAAa,MAAb,CAAJ,EAAyB;AACrB,UAAI,KAAKC,KAAL,CAAWC,GAAX,IAAkB,EAAtB,EAA0B,CAEzB,CAFD,MAGK;AACD,cAAMY,KAAK,GAAG,YAAYtB,OAAO,CAACuB,GAAR,CAAY,KAAZ,CAA1B;AACA,cAAMC,cAAc,GAAG;AACnBC,UAAAA,MAAM,EAAE,KADW;AAEnBC,UAAAA,OAAO,EAAE;AAAE,6BAAiBJ;AAAnB;AAFU,SAAvB;AAKA,cAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAE,SAAQ,KAAKnB,KAAL,CAAWC,GAAI,EAAzB,EAA4Bc,cAA5B,CAA5B;;AAEA,YAAI,CAACG,QAAQ,CAACE,EAAd,EAAkB;AACd,eAAKZ,WAAL;AACH,SAFD,MAGK;AACD,eAAKV,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAyB,SAAQ,KAAKtB,KAAL,CAAWC,GAAI,EAAhD;AACH;AACJ;AACJ,KApBD,MAqBK;AACDsB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,WAAKd,QAAL,CAAc;AAAEN,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACH;AACJ;;AAGDI,EAAAA,WAAW,GAAG;AACV,SAAKE,QAAL,CAAc;AAAER,MAAAA,SAAS,EAAE,CAAC,KAAKF,KAAL,CAAWE;AAAzB,KAAd;AACH;;AAGDuB,EAAAA,MAAM,GAAG;AACL,QAAIC,EAAE,GAAG,KAAK1B,KAAL,CAAWC,GAApB;AACA,QAAI0B,GAAG,GAAG,KAAK3B,KAAL,CAAWG,MAArB;;AAEA,QAAI,KAAKH,KAAL,CAAWI,QAAf,EAAyB;AACrB,0BAAQ,QAAC,QAAD;AAAU,QAAA,IAAI,MAAd;AAAe,QAAA,EAAE,EAAG;AAApB;AAAA;AAAA;AAAA;AAAA,cAAR;AACH;;AAED,wBACI,QAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,GAAD;AAAA,gCACI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,6BAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACI,QAAC,KAAD;AAAO,kBAAA,IAAI,EAAC,MAAZ;AAAmB,kBAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,GAArC;AAA0C,kBAAA,QAAQ,EAAE,KAAKI,YAAzD;AAAuE,kBAAA,WAAW,EAAC;AAAnF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAOI,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,EAAT;AAAY,cAAA,OAAO,EAAE,KAAKE,YAA1B;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAiBI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAC,GAAR;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eA4BI,QAAC,KAAD;AAAO,QAAA,MAAM,EAAE,KAAKP,KAAL,CAAWE,SAA1B;AAAqC,QAAA,MAAM,EAAE,KAAKM,WAAlD;AAAA,+BACI,QAAC,WAAD;AAAA,qBACKmB,GADL,eAEI;AAAK,YAAA,SAAS,EAAC,WAAf;AAA2B,YAAA,OAAO,EAAE,KAAKnB,WAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAuCH;;AAjG+B;AAAvBZ,I,CACFgC,W,GAAchC,IAAI,CAACiC,I;AAmG9BjC,IAAI,CAACkC,WAAL,GAAmBnC,UAAnB;AACA,oBAAeD,UAAU,CAACE,IAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Row, Col, Input, Modal, ModalFooter} from 'reactstrap';\r\nimport './Home.scss';\r\nimport Cookies from 'js-cookie'\r\nimport {Link, Redirect, withRouter} from \"react-router-dom\";\r\n\r\nimport {AppContext} from './AppContext.jsx';\r\n\r\nexport class Home extends Component {\r\n    static displayName = Home.name;\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = { idQ: \"\", showNfmsg: false, errmsg:\"Queue not found\", redirect: false};\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.toggleNfmsg = this.toggleNfmsg.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({ idQ: event.target.value });\r\n    }\r\n\r\n    async handleSubmit() {\r\n        if (this.context[\"auth\"]){\r\n            if (this.state.idQ == \"\") {\r\n            \r\n            }\r\n            else {\r\n                const token = \"Bearer \" + Cookies.get('JWT');\r\n                const requestOptions = {\r\n                    method: 'GET',\r\n                    headers: { 'Authorization': token }\r\n                };\r\n\r\n                const response = await fetch(`event/${this.state.idQ}`, requestOptions);\r\n\r\n                if (!response.ok) {\r\n                    this.toggleNfmsg();\r\n                }\r\n                else {\r\n                    this.props.history.push(`queue/${this.state.idQ}`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            console.log(\"unathorized\");\r\n            this.setState({ redirect: true });\r\n        }\r\n    }\r\n\r\n\r\n    toggleNfmsg() {\r\n        this.setState({ showNfmsg: !this.state.showNfmsg });\r\n    }\r\n\r\n\r\n    render() {\r\n        let id = this.state.idQ\r\n        let msg = this.state.errmsg\r\n\r\n        if (this.state.redirect) {\r\n            return (<Redirect push to={`login`} />);\r\n        }\r\n\r\n        return (\r\n            <Container fluid>\r\n                <div className=\"home_background\"></div>\r\n                <Row>\r\n                    <Col sm=\"6\">\r\n                        <div className=\"input_id_block\">\r\n                            <div className=\"input_background_background\">\r\n                                <div className=\"input_background\">\r\n                                    <Input type=\"text\" value={this.state.idQ} onChange={this.handleChange} placeholder=\"ID...\"/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Link to=\"\" onClick={this.handleSubmit}>\r\n                                <div className=\"submit_button\">\r\n                                    Join\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                    </Col>\r\n\r\n                    <Col sm=\"6\">\r\n                        <div className=\"about_block\">\r\n                            <h1>Stop wasting time in queues</h1>\r\n                            <h2>use smart queue service today</h2>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                \r\n\r\n                <Modal isOpen={this.state.showNfmsg} toggle={this.toggleNfmsg}>\r\n                    <ModalFooter>\r\n                        {msg}\r\n                        <div className=\"ok_button\" onClick={this.toggleNfmsg}>OK</div>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                \r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nHome.contextType = AppContext;\r\nexport default withRouter(Home);"]},"metadata":{},"sourceType":"module"}